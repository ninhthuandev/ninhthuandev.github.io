"use strict";var Type={TEXT:"TEXT",FILE:"FILE"},Mode={ENCODE:"ENCODE",DECODE:"DECODE"};document.addEventListener("alpine:init",function(){Alpine.store("encodeDecode",{selectedType:"BASE64",selectedTypeDisplayName:"Base-64",supportedFile:!0,inputType:Type.TEXT,outputType:Type.TEXT,input:"",output:"",outputFileName:"output.txt",mode:Mode.ENCODE,errorMessage:"",isType:function(e){return this.selectedType===e},setSelectedType:function(e,t,s){this.selectedType=e,this.supportedFile="true"===s,this.selectedTypeDisplayName=t,this.mode===Mode.ENCODE?this.setInput(this.input):this.setInput("")},setInput:function(e){try{this.input=e,this.generateOutput(),this.errorMessage=""}catch(e){this.errorMessage=e.message,console.log(e)}},changeInputType:function(e){this.setInput(""),!1===this.supportedFile&&e===Type.FILE||(this.inputType=e,this.inputType===Type.FILE&&(this.outputType=Type.TEXT))},changeOutputType:function(e){!1===this.supportedFile&&e===Type.FILE||(this.outputType=e,this.outputType===Type.FILE&&(this.inputType=Type.TEXT))},switchMode:function(){this.mode=this.mode===Mode.ENCODE?Mode.DECODE:Mode.ENCODE,this.setTypeForCurrentMode(),this.setInput("")},setTypeForCurrentMode:function(){this.mode===Mode.ENCODE?this.outputType=Type.TEXT:this.inputType=Type.TEXT},changeInput:function(e){this.setInput(e.target.value)},changeInputWithFile:function(e){var t=this,s=e.target.files[0],i=new FileReader;i.onload=function(e){t.setInput(e.target.result)},i.readAsArrayBuffer(s)},generateOutput:function(){if(""===this.input)return this.output="",void(document.getElementById("inputFile").value="");this.mode===Mode.ENCODE?this.output=this.encode(this.input):this.outputType===Type.TEXT?this.output=this.decode(this.input):this.output=this.decodeToBytes(this.input)},downloadOutputAsFile:function(){this.setInput(this.input);this.outputFileName.split(".").pop();var e=new Blob([this.output]),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=this.outputFileName,s.click()},encode:function(e){var t=e;return"BASE58"===this.selectedType?base58Encode(e):this.selectedType.includes("BASE")?window[this.selectedType.toLowerCase()].encode(t):""},decode:function(e){return"BASE58"===this.selectedType?base58Decode(e):this.selectedType.includes("BASE")?window[this.selectedType.toLowerCase()].decode(e):""},decodeToBytes:function(e){return"BASE58"===this.selectedType?base58.decode(e):"BASE32"===this.selectedType?new Uint8Array(window[this.selectedType.toLowerCase()].decode.asBytes(e)):this.selectedType.includes("BASE")?new Uint8Array(window[this.selectedType.toLowerCase()].decode.bytes(e)):""}})});
//# sourceMappingURL=encode-decode.js.map
