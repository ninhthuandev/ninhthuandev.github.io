"use strict";var html5QrCode=new Html5Qrcode("reader");function startScanningQrCode(e){var n=window.innerWidth,o=window.innerHeight,t=document.getElementById("reader").offsetWidth,i=o*t/n,c=.7*t;i<t&&(c=.7*i),Alpine.store("qrCode")&&(Alpine.store("qrCode").setScanning(!0),html5QrCode.start(e,{fps:10,qrbox:{width:c,height:c}},function(e,n){html5QrCode.stop().then(function(e){console.log("QR Code stopped",e)}).catch(function(e){console.log("Error",e)}).finally(function(){Alpine.store("qrCode").setScanning(!1),Alpine.store("qrCode").setDecodedInfo(e,n)})},function(e){console.log(e)}).catch(function(e){console.log(e)}))}function stopScanningQrCode(){html5QrCode.stop().then(function(e){console.log("QR Code stopped",e)}).catch(function(e){console.log("Error",e)}).finally(function(){Alpine.store("qrCode").setScanning(!1)})}document.addEventListener("alpine:init",function(){Alpine.store("cameraDevices",{devices:[{id:"",label:""}],selectedDevice:{},setDevices:function(e){this.devices=e,this.selectedDevice=e[0]},changeDevices:function(e){var n=e.target.value;this.selectedDevice=this.devices.find(function(e){return e.id===n})}}),Alpine.store("qrCode",{decodedText:void 0,decodedResult:void 0,scanning:!1,setDecodedInfo:function(e,n){this.decodedText=e,this.decodedResult=n},setScanning:function(e){this.scanning=e}}),Html5Qrcode.getCameras().then(function(e){e&&e.length&&(console.log("Devices:",e),Alpine.store("cameraDevices").setDevices(e),console.log("Test",Alpine.store("cameraDevices").devices[0].id))}).catch(function(e){console.error("Error")})});
//# sourceMappingURL=qr-code-reader.js.map
