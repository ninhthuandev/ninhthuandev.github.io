"use strict";var QrCodeType={TEXT:"TEXT",URL:"URL",EMAIL:"EMAIL",VCARD:"VCARD",SMS:"SMS",WIFI:"WIFI"},urlRegex=/^(https?|chrome):\/\/[^\s$.?#].[^\s]*$/gm;function validateForm(e){for(var t in this.validation[e].rule){var r=this.validation[e].rule[t](this[e]);if(r.error){this.validation[e].error=!0,this.validation[e].message=r.message;break}this.validation[e].error=!1,this.validation[e].message=""}}document.addEventListener("alpine:init",function(){Alpine.data("urlFormData",function(){return{url:"",validation:{url:{rule:{regex:function(e){return urlRegex.test(e)?{error:!1,message:""}:{error:!0,message:"Please input correct URL"}}},error:!1,message:""}},validate:function(e){validateForm.apply(this,[e])}}}),Alpine.data("emailFormData",function(){return{email:"",subject:"",body:"",toQrCodeStringFromEmailData:function(){return"mailto:".concat(this.email,"?subject=").concat(this.subject,"&body=").concat(this.body)},validation:{email:{rule:{regex:function(e){if(0===e.length)return{error:!1,message:""};return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?{error:!1,message:""}:{error:!0,message:"Please input correct email"}}},error:!1,message:""}},validate:function(e){validateForm.apply(this,[e])}}}),Alpine.data("vCardFormData",function(){return{firstName:"",lastName:"",organization:"",jobTitle:"",phone:"",email:"",address:"",website:"",toQrCodeStringFromVCardData:function(){var e="BEGIN:VCARD\n            VERSION:3.0\n            N:".concat(this.lastName,";").concat(this.firstName,";;;\n            FN:").concat(this.firstName," ").concat(this.lastName,"\n            ORG:").concat(this.organization,"\n            TITLE:").concat(this.jobTitle,"\n            TEL:").concat(this.phone,"\n            EMAIL:").concat(this.email,"\n            ADR:;;").concat(this.address,";;;;;\n            URL:").concat(this.website,"\n            END:VCARD");return e=e.replace(/  +/g,""),console.log(e),e}}}),Alpine.data("smsFormData",function(){return{phoneNumber:"",message:"",toQrCodeStringFromSmsData:function(){return"SMSTO:".concat(this.phoneNumber,":").concat(this.message)}}}),Alpine.data("wifiFormData",function(){return{ssid:"",hidden:!1,password:"",encryption:"WPA",toQrCodeStringFromWifiData:function(){return"WIFI:S:".concat(this.ssid,";T:").concat(this.encryption,";P:").concat(this.password,";H:").concat(this.hidden?"true":"false",";")}}}),Alpine.store("qrCode",{type:QrCodeType.TEXT,value:"",qrCode:null,generateQrCode:function(){var e={text:this.value,correctLevel:QRCode.CorrectLevel.M};this.qrCode||(this.qrCode=new QRCode(document.getElementById("qr-code-image"),e)),this.qrCode.makeCode(this.value)},changeValueAndGenerateQrCode:function(e){this.value=e,this.generateQrCode()},changeType:function(e){this.type=e},isType:function(e){return this.type===e}}),Alpine.store("qrCode").generateQrCode()});
//# sourceMappingURL=qr-code-generator.js.map
